[gd_scene load_steps=19 format=2]

[ext_resource path="res://Imports/Drone/Drone.glb" type="PackedScene" id=1]

[sub_resource type="AnimationNodeAnimation" id=1]
animation = "MoveBack"

[sub_resource type="AnimationNodeAnimation" id=2]
animation = "moveForward"

[sub_resource type="AnimationNodeAnimation" id=3]
animation = "Hover"

[sub_resource type="AnimationNodeBlendSpace1D" id=4]
blend_point_0/node = SubResource( 1 )
blend_point_0/pos = -1.0
blend_point_1/node = SubResource( 2 )
blend_point_1/pos = 1.0
blend_point_2/node = SubResource( 3 )
blend_point_2/pos = 0.0

[sub_resource type="AnimationNodeAnimation" id=5]
animation = "Hover"

[sub_resource type="AnimationNodeAnimation" id=6]
animation = "ALERT "

[sub_resource type="AnimationNodeAnimation" id=7]
animation = "look around CAMERA"

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "Camera Shooting"

[sub_resource type="AnimationNodeAnimation" id=16]
animation = "DroneHurt"

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "FanSpin"

[sub_resource type="AnimationNodeBlend2" id=10]
filter_enabled = true
filters = [ "Armature/Skeleton:camera" ]

[sub_resource type="AnimationNodeBlend2" id=11]
filter_enabled = true
filters = [ "Armature/Skeleton:backfan_blades_l", "Armature/Skeleton:backfan_blades_r", "Armature/Skeleton:front_fan_blades_l", "Armature/Skeleton:front_fan_blades_r" ]

[sub_resource type="AnimationNodeBlend2" id=12]
filter_enabled = true
filters = [ "Armature/Skeleton:back_fan_r", "Armature/Skeleton:fan_rotation", "Armature/Skeleton:front_fan_l", "Armature/Skeleton:front_fan_r" ]

[sub_resource type="AnimationNodeOneShot" id=14]
filter_enabled = true
filters = [ "Armature/Skeleton:back_fan_l", "Armature/Skeleton:back_fan_r", "Armature/Skeleton:base", "Armature/Skeleton:drone_altitude", "Armature/Skeleton:drone_rotation", "Armature/Skeleton:fan_rotation", "Armature/Skeleton:front_fan_l", "Armature/Skeleton:front_fan_r" ]

[sub_resource type="AnimationNodeOneShot" id=17]
filter_enabled = true
filters = [ "Armature/Skeleton:back_fan_l", "Armature/Skeleton:back_fan_r", "Armature/Skeleton:backfan_blades_l", "Armature/Skeleton:backfan_blades_r", "Armature/Skeleton:base", "Armature/Skeleton:drone_altitude", "Armature/Skeleton:drone_rotation", "Armature/Skeleton:fan_rotation", "Armature/Skeleton:front_fan_blades_l", "Armature/Skeleton:front_fan_blades_r", "Armature/Skeleton:front_fan_l", "Armature/Skeleton:front_fan_r" ]

[sub_resource type="AnimationNodeOneShot" id=13]
filter_enabled = true
filters = [ "Armature/Skeleton:camera" ]

[sub_resource type="AnimationNodeBlendTree" id=15]
graph_offset = Vector2( -1.39999, -340.76 )
"nodes/-1=MoveBackwards 1=MoveForward 0=Still /node" = SubResource( 4 )
"nodes/-1=MoveBackwards 1=MoveForward 0=Still /position" = Vector2( 240, -320 )
nodes/Animation/node = SubResource( 9 )
nodes/Animation/position = Vector2( 0, -200 )
"nodes/Animation 2/node" = SubResource( 5 )
"nodes/Animation 2/position" = Vector2( 0, -300 )
"nodes/Animation 3/node" = SubResource( 6 )
"nodes/Animation 3/position" = Vector2( 0, 100 )
"nodes/Animation 4/node" = SubResource( 7 )
"nodes/Animation 4/position" = Vector2( 0, -100 )
"nodes/Animation 5/node" = SubResource( 8 )
"nodes/Animation 5/position" = Vector2( 0, 0 )
"nodes/Animation 6/node" = SubResource( 16 )
"nodes/Animation 6/position" = Vector2( 0, 200 )
"nodes/BOOL 0=CameraLook Forward 1=CameralookAround/node" = SubResource( 10 )
"nodes/BOOL 0=CameraLook Forward 1=CameralookAround/position" = Vector2( 700, -200 )
"nodes/INT 0=Fans Off 1 = Fans On/node" = SubResource( 11 )
"nodes/INT 0=Fans Off 1 = Fans On/position" = Vector2( 280, -200 )
"nodes/KEEP ON/node" = SubResource( 12 )
"nodes/KEEP ON/position" = Vector2( 540, -200 )
"nodes/Trigger Alert Animation/node" = SubResource( 14 )
"nodes/Trigger Alert Animation/position" = Vector2( 700, -20 )
"nodes/Trigger Hurt Animation/node" = SubResource( 17 )
"nodes/Trigger Hurt Animation/position" = Vector2( 940, -20 )
"nodes/Trigger Shooting/node" = SubResource( 13 )
"nodes/Trigger Shooting/position" = Vector2( 500, -20 )
nodes/output/position = Vector2( 1200, -20 )
node_connections = [ "output", 0, "Trigger Hurt Animation", "Trigger Shooting", 0, "BOOL 0=CameraLook Forward 1=CameralookAround", "Trigger Shooting", 1, "Animation 5", "BOOL 0=CameraLook Forward 1=CameralookAround", 0, "KEEP ON", "BOOL 0=CameraLook Forward 1=CameralookAround", 1, "Animation 4", "Trigger Hurt Animation", 0, "Trigger Alert Animation", "Trigger Hurt Animation", 1, "Animation 6", "Trigger Alert Animation", 0, "Trigger Shooting", "Trigger Alert Animation", 1, "Animation 3", "INT 0=Fans Off 1 = Fans On", 0, "Animation 2", "INT 0=Fans Off 1 = Fans On", 1, "Animation", "KEEP ON", 0, "INT 0=Fans Off 1 = Fans On", "KEEP ON", 1, "-1=MoveBackwards 1=MoveForward 0=Still " ]

[node name="Drone" instance=ExtResource( 1 )]

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource( 15 )
anim_player = NodePath("../AnimationPlayer")
active = true
"parameters/-1=MoveBackwards 1=MoveForward 0=Still /blend_position" = 0.0
"parameters/BOOL 0=CameraLook Forward 1=CameralookAround/blend_amount" = 1.0
"parameters/INT 0=Fans Off 1 = Fans On/blend_amount" = 1.0
"parameters/KEEP ON/blend_amount" = 1.0
"parameters/Trigger Alert Animation/active" = false
"parameters/Trigger Hurt Animation/active" = false
"parameters/Trigger Shooting/active" = false
